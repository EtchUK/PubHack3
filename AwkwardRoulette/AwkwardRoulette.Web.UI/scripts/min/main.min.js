!function(e){function t(){var t=e.Deferred();return FB.getLoginStatus(function(e){"connected"===e.status?t.resolve():FB.login(function(){t.resolve()},{scope:"publish_actions"})}),t}function n(t,n){var i=e.Deferred();return FB.api("/"+t+"/feed","POST",{message:n},function(e){e&&!e.error?i.resolve(e):e.error&&i.reject(e.error)}),i}function i(){setTimeout(function(){e(".spinner-item.active").length&&e(".spinner-item.active").next(".spinner-item").length?e(".spinner-item.active").removeClass("active").next().addClass("active"):(e(".spinner-item.active").removeClass("active"),e(".spinner-item").first().addClass("active")),a-=1,a>0?i():(e(".spinner-item.active").addClass("chosen"),console.log(e(".spinner-item.active").data("punishment")),r())},o),o+=25}function r(){s=!1,e(".start-spinner").text("Play");var t=e(".chosen").data("desc");e(".result").text(t)}e.ajaxSetup({cache:!0}),e.getScript("//connect.facebook.net/en_UK/all.js",function(){FB.init({appId:"729058967147863"})}),e(".js-play").on("click",function(){return t().then(function(){n("me","Hi").then(function(){console.log("posted to your timeline")})}),!1}),e(".reveal").click(function(){var t=e(this).attr("href");return e(this).animate({opacity:"0"},500,function(){e(this).hide(),e(t).css({opacity:"0"}).show().animate({opacity:"1"},500)}),!1});var s=!1,a=0,o=0;e(".start-spinner").click(function(){return s||(s=!0,e(".result").text(""),e(".spinner-item").removeClass("chosen").removeClass("active"),o=0,e(this).text("Wait..."),a=Math.floor(20*Math.random()+10),i()),!1})}(jQuery);